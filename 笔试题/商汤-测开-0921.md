![st3](/media/b3-542/0C3D65931B1CCAB5/TianfeiYu/Typora/imgs/2019笔试题/商汤-测开-0921/st3.png)



```python
def solution(s, n):
    dp = [0] * n
    if s[1] == s[0]:
        dp[1] = 1

    for i in range(2, n):
        if s[i] == s[0]:
            dp[i] = i
        elif s[i] == s[i - dp[i - 1]]:
            dp[i] = dp[i - 1]
        else:
            dp[i] = 0

    return sum(dp)


if __name__ == "__main__":
    s = "abcd"
    n = 4
    print(solution(s, n))
```

