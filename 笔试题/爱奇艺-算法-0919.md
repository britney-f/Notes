



![1](/media/b3-542/0C3D65931B1CCAB5/TianfeiYu/Typora/imgs/2019笔试题/爱奇艺-算法-0919/1.png)



```c++
#include<stdio.h>
#include<algorithm>
#include<string>
#include<iostream>
#include<string.h>
using namespace std;

typedef long long ll;
typedef unsigned long long ull;
const int MAX = 5e6 + 5;

const int base = 95;
char a[MAX], b[MAX];
unsigned long long getval(char ch)
{
    if (ch >= 'a' && ch <= 'z')return ch - 'a' + 1;
    return ch - 'A' + 27;
}

ull sum[MAX];
int main(){

    while (scanf("%s %s", &a, &b) != EOF) {

        int n = strlen(b), m = strlen(a);
        sum[0] = getval(a[0]);
        for (int i = 1; i < m; i++)sum[i] = sum[i - 1] * base + getval(a[i]);
        ull ha = 0, hb = 0, f = 1;
        for (int i = 0; i < n; i++)f = f * base;
        for (int i = 0; i < n; i++)
            ha = (ha * base + getval(b[i]));

        int ans = 0;
        if(m<n){
            for(int i=0;i<m;i++){
                printf("0");
                if(i!=m-1)printf(" ");
            }
            printf("\n");
        }
        else{
            for (int i = 0; i < n - 1; i++) {
                printf("%d", ans);
                if (i != m - 1)printf(" ");
            }
            if (ha == sum[n - 1])ans++;
            printf("%d", ans);
            if (n-1 != m - 1)printf(" ");
            for (int i = n; i < m; i++)
            {
                if (ha == sum[i] - sum[i - n] * f)ans++;
                printf("%d", ans);
                if (i != m - 1)printf(" ");
            }
            printf("\n");
        }

    }
    //printf("%d\n", ans);
    return 0;
}

/*
ababac
ab
0 1 1 2 2 2
 */
```



![2](/media/b3-542/0C3D65931B1CCAB5/TianfeiYu/Typora/imgs/2019笔试题/爱奇艺-算法-0919/2.png)



```c++
#include<stdio.h>
#include<algorithm>
#include<string>
#include<iostream>
#include<string.h>
#include<cmath>
using namespace std;

int n2;
int a[800000];
int v[200000];
int init(int s, int l,int r){
    // printf("%d %d %d\n", s,l, r);
    if(l==r){
        a[s]=v[r];
        return 0;
    }
    int mid = (l+r)/2;

    int h= init(s*2,l,mid);
    init(s*2+1, mid+1,r);
    if(h%2==0){
        a[s] = a[s*2]|a[s*2+1];
    }
    else{
        a[s] = a[s*2]^a[s*2+1];
    }
    return h+1;
}

int modify(int s, int l,int r,int t1,int t2){
    if(l==r){
        a[s]=t2;
        return 0;
    }
    int mid = (l+r)/2;

    int h;
    if(t1<=mid){
        h = modify(s*2,l,mid, t1,t2);
    }
    else{
        h = modify(s*2+1,mid+1,r, t1,t2);
    }
    if(h%2==0){
        a[s] = a[s*2]|a[s*2+1];
    }
    else{
        a[s] = a[s*2]^a[s*2+1];
    }
    return h+1;
}

int main(){
    int n,m;
    while (scanf("%d %d", &n, &m) != EOF) {
        n2=pow(2,n);
        for(int i=1;i<=n2;i++){
            scanf("%d",&v[i]);
        }
        init(1,1,n2);

        for(int i=0;i<m;i++){
            int t1,t2;
            scanf("%d %d",&t1, &t2);
            modify(1,1,n2,t1,t2);
            printf("%d\n",a[1]);
            if(i==m-1)printf("\n");
            else printf(" ");
        }

    }
    //printf("%d\n", ans);
    return 0;
}
/*
2 4
1 2 3 4
1 4
3 4
1 3
1 3

1
2
7
7
*/

```

