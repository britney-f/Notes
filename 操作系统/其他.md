## 页面置换算法

#### １) 最佳置换算法（OPT）（理想置换算法）

- 这是一种理想情况下的页面置换算法，但**实际上是不可能实现的**。
- 该算法的基本思想是：每个页面用在该页面下次被访问前所要执行的指令数进行标记，其中标记最大的页应该被置换。
- 这个算法的问题就是它无法实现。当缺页发生时，操作系统无法知道各个页面下一次是在什么时候被访问。
- 虽然这个算法不可能实现，但是最佳页面置换算法可以用于对可实现算法的性能进行衡量比较。



#### ２) 先进先出置换算法（FIFO）

- 总是选择在主存中停留时间最长（即最老）的一页置换，即**先进入内存的页，先退出内存**。
- 这种算法只是在按线性顺序访问地址空间时才是理想的，否则效率不高。因为那些常被访问的页，往往在主存中也停留得最久，结果它们因变“老”而不得不被置换出去。



#### 3) 最近最久未使用（LRU）算法

- 选择在最近一段时间里最久没有使用过的页面予以置换。

- 实现方式：

  ① **计数器**。最简单的情况是使每个页表项对应一个使用时间字段，并给CPU增加一个逻辑时钟或计数器。每次存储访问，该时钟都加1。每当访问一个页面时，时钟寄存器的内容就被复制到相应页表项的使用时间字段中。这样我们就可以始终保留着每个页面最后访问的“时间”。在置换页面时，选择该时间值最小的页面。这样做，不仅要查页表，而且当页表改变时（因CPU调度）要维护这个页表中的时间，还要考虑到时钟值溢出的问题。

  ② **栈。**用一个栈保留页号。每当访问一个页面时，就把它从栈中取出放在栈顶上。这样一来，栈顶总是放有目前使用最多的页，而栈底放着目前最少使用的页。由于要从栈的中间移走一项，所以要用具有头尾指针的双向链连起来。在最坏的情况下，移走一页并把它放在栈顶上需要改动6个指针。每次修改都要有开销，但需要置换哪个页面却可直接得到，用不着查找，因为尾指针指向栈底，其中有被置换页。



> 参考博客：https://blog.csdn.net/wangsifu2009/article/details/6757352







### CPU一级缓存、二级缓存、三级缓存是什么意思？

##### 一级缓存（L1 Cache）

CPU一级缓存，就是指CPU的第一层级的高速缓存，主要当担的工作是缓存指令和缓存数据。一级缓存的容量与结构对CPU性能影响十分大，但是由于它的结构比较复杂，又考虑到成本等因素，一般来说，CPU的一级缓存较小，通常CPU的一级缓存也就能做到256KB左右的水平。

##### 二级缓存（L2 Cache66）

CPU二级缓存，就是指CPU的第二层级的高速缓存，而二级缓存的容量会直接影响到CPU的性能，二级缓存的容量越大越好。例如intel的第八代i7-8700处理器，共有六个核心数量，而每个核心都拥有256KB的二级缓存，属于各核心独享，这样二级缓存总数就达到了1.5MB。

##### 三级缓存（L3 Cache）

CPU三级缓存，就是指CPU的第三层级的高速缓存，其作用是进一步降低内存的延迟，同时提升海量数据量计算时的性能。和一级缓存、二级缓存不同的是，三级缓存是核心共享的，能够将容量做的很大。

