[TOC]



### 指针

- **直接访问**：在编译过程中，程序将变量名转换为变量的地址，对变量值的存取都是通过地址进行的；
- **间接访问**：将变量的地址存放在另一个变量中，通过访问另一个变量得到该变量的地址；



**指针**：一个变量的地址；

**指针变量**：一个专门用来存放地址（即指针）的变量，***符号表示指向**；

**指针变量的基类型：**该指针变量指向的变量的类型，因为不同数据类型占的字节数不同，所以要定义指针的基类型；

```c++
int i = 3;
int * i_pointer;  // 基类型 * 指针变量名
i_pointer = &i;	//&是取地址运算符

*i_pointer = 3;	//*符号表示指向
```

> **&是取地址运算符**



##### 用指针作函数参数

函数执行过程中，使指针变量所指向的变量值发生变化，函数调用结束后，这些变量值的变化依然保留下来。





#### 数组和指针

指向整型的指针变量p，可以指向整型的对象，也可以指向整型的数组元素。

```c++
int a[5], *p;
p = a;		//将数组a的首元素的地址赋给指针变量p
p = &a[0];
```

> `*(p+i)` `*(a+1)`  `a[i]` 这三种表示方式等价， **`[]` 是变址运算符**。





**指针变量作为函数形参**

```c++
void sort(int *p, int n); //形参为指针和整型
void sort2(int a[], int, n); //形参为数组和整型
```

> 对于 `sort` 和 `sort2` ， C++编译系统给将形参数组名一律作为指针变量来处理





####  字符串与指针

三种访问字符串的方法：

- 用字符数组存放一个字符串
- 用字符串变量存放字符串

- 用字符指针指向一个字符串

```c++
char str[] = "China and china";
string str2 = "China and china";
char * str3 = "China and china"; //没有定义字符数组，定义了一个字符指针变量
```





#### 函数和指针

- 指针变量可以指向一个函数；
- 一个函数在编译时被分配给一个入口地址，这个**入口地址就称为函数的指针**；

```c++
//函数类型 （* 变量名）（函数形参表）；
int max(int x, int y);
int (*p)(int, int);  //指向函数的指针

int a, b, m;
p = max;
m = p(a, b);   //相当于 m = max(a, b);
cout << "max=" << m << endl;


int* p(int, int);  //函数的返回值是指针（接下来会介绍）
```

> 注意：（*p）两侧的括号不可省略，表示p先与\*结合，它是指针变量，然后再与后面的 () 结合，表示此指针变量指向函数，这个函数的返回值是整型。





#### 返回指针值的函数

```c++
// 类型名 * 函数名（参数列表）
int* p(int, int); 
```





#### 指针数组和指向指针的指针

指针数组：一个数组，其元素均为指针类型数据；

```c++
int * p[4];  // 类型名 * 数组名[数组长度]

int (*p)[4];  //指向一维数组的指针变量
```

> 由于[ ]比\* 优先级高，因此p先和 [4] 结合形成数组，然后在与p前面的\*结合，表示此数组是指针类型



指向指针的指针

```c++
int **p;
```





#### `const` 指针

指向常量的指针：不允许通过指针变量改变它指向的对象的值。

**TODO**





#### `void`指针类型

**TODO**

